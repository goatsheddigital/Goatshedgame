<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>GoatShed Digital Snake</title>
    <style>
      body {
        background: #111;
        color: #0f0;
        margin: 0;
        overflow: hidden;
        font-family: monospace;
        text-align: center;
      }
      #gameCanvas {
        background: #222;
        display: block;
        margin: 0 auto;
        border: 2px solid #0f0;
      }
      #centerText {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 3em;
        color: #0f0;
        pointer-events: none;
        z-index: 10;
        text-shadow: 0 0 10px #0f0;
      }
    </style>
  </head>
  <body>
    <canvas id="gameCanvas" width="600" height="400"></canvas>
    <div id="centerText">GoatShed Digital</div>

    <script>
      const canvas = document.getElementById('gameCanvas');
      const ctx = canvas.getContext('2d');
      const gridSize = 20;
      let snake = [{ x: 160, y: 200 }];
      let dx = gridSize;
      let dy = 0;
      let food = randomFood();
      let score = 0;
      let gameLoop = setInterval(draw, 100);

      document.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowUp' && dy === 0) {
          dx = 0;
          dy = -gridSize;
        }
        if (e.key === 'ArrowDown' && dy === 0) {
          dx = 0;
          dy = gridSize;
        }
        if (e.key === 'ArrowLeft' && dx === 0) {
          dx = -gridSize;
          dy = 0;
        }
        if (e.key === 'ArrowRight' && dx === 0) {
          dx = gridSize;
          dy = 0;
        }
      });

      function randomFood() {
        return {
          x: Math.floor(Math.random() * (canvas.width / gridSize)) * gridSize,
          y: Math.floor(Math.random() * (canvas.height / gridSize)) * gridSize,
        };
      }

      function draw() {
        ctx.fillStyle = '#222';
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        // Move Snake
        const head = { x: snake[0].x + dx, y: snake[0].y + dy };
        snake.unshift(head);

        // Check collision with food
        if (head.x === food.x && head.y === food.y) {
          score++;
          food = randomFood();
        } else {
          snake.pop();
        }

        // Draw food
        ctx.fillStyle = 'red';
        ctx.fillRect(food.x, food.y, gridSize, gridSize);

        // Draw snake
        ctx.fillStyle = '#0f0';
        snake.forEach((part) =>
          ctx.fillRect(part.x, part.y, gridSize - 1, gridSize - 1)
        );

        // Check collision with walls or self
        if (
          head.x < 0 ||
          head.x >= canvas.width ||
          head.y < 0 ||
          head.y >= canvas.height ||
          snake.slice(1).some((p) => p.x === head.x && p.y === head.y)
        ) {
          clearInterval(gameLoop);
          alert('Game Over - Score: ' + score);
        }
      }
    </script>
  </body>
</html>
